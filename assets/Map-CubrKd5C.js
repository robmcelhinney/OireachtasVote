import{r as n,D as P,R as s,d as _}from"./index-B-1nJ632.js";import{k as j,j as z,D as H,l as E,n as V,o as W}from"./helper-x_uohrEO.js";import{o as G}from"./info-Cma9JODg.js";class f{constructor(){this.style={fontFamily:"roboto"}}setWidth(t){return this.style.width=t,this}setHeight(t){return this.style.height=t,this}setScale(t){return this.style.scale=t,this}setMinHeight(t){return this.style.minHeight=t,this}setDisplay(t){return this.style.display=t,this}setFlexDirection(t){return this.style.flexDirection=t,this}setFontSize(t){return this.style.fontSize=t,this}setMargin(t){return this.style.margin=t,this}setMarginBottom(t){return this.style.marginBottom=t,this}setMarginTop(t){return this.style.marginTop=t,this}setMarginLeft(t){return this.style.marginLeft=t,this}setMarginRight(t){return this.style.marginRight=t,this}setPadding(t){return this.style.padding=t,this}setPaddingTop(t){return this.style.paddingTop=t,this}setPaddingBottom(t){return this.style.paddingBottom=t,this}setBasics(t,l,i,o){return this.style.width=t,this.style.height=l,this.style.left=i,this.style.top=o,this}setPosition(t){return this.style.position=t,this}setTop(t){return this.style.top=t,this}setBottom(t){return this.style.bottom=t,this}setLeft(t){return this.style.left=t,this}setRight(t){return this.style.right=t,this}setBorder(t){return this.style.border=t,this}setBorderRadius(t){return this.style.borderRadius=t,this}setBorderTop(t){return this.style.borderTop=t,this}setBoxShadow(t){return this.style.boxShadow=t,this}setOverflow(t){return this.style.overflow=t,this}setOverflowX(t){return this.style.overflowX=t,this}setOverflowY(t){return this.style.overflowY=t,this}setWhiteSpace(t){return this.style.whiteSpace=t,this}setTextOverflow(t){return this.style.textOverflow=t,this}setOpacity(t){return this.style.opacity=t,this}setAlignItems(t){return this.style.alignItems=t,this}setJustifyContent(t){return this.style.justifyContent=t,this}setColor(t){return this.style.color=t,this}setTransition(t,l){return this.style.transition!==void 0?this.style.transition=this.style.transition+", "+t+" "+l+"s":this.style.transition=t+" "+l+"s",this}setFill(t){return this.style.fill=t,this}setStroke(t){return this.style.stroke=t,this}setCursor(t){return this.style.cursor=t,this}getStyle(){return this.style}}const N=Object.freeze({SLOW:.7,NORMAL:.5,FAST:.3}),X="#4ed364",Y="#98bc98",J=Object.assign({"../constituencies/33.json":()=>_(()=>import("./33-Bekk54rv.js"),[])}),U=new f().setBasics("100%","auto",0,0).getStyle(),$=new f().setBasics("100%","auto",0,0).setDisplay("flex").setFlexDirection("column").getStyle(),q=new f().setHeight("100%").getStyle(),a=r=>String(r||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),b=new Set(H.map(a)),et=()=>{const{state:r}=n.useContext(P);document.title="Oireacthas Vote Map View";const[t,l]=n.useState(""),[i,o]=n.useState(""),[M,c]=n.useState(!1),[C,O]=n.useState(null),[u,I]=n.useState([]),[B,h]=n.useState([]),[d,k]=n.useState([]);n.useEffect(()=>{let e=!0;return(async()=>{const[v,m]=await z(r.dailNum),p=`../constituencies/${r.dailNum}.json`,y=J[p];let S=[];if(y){const x=await y();S=(x.default||x)[r.dailNum]||[]}e&&(O(v),I(m||[]),h(m||[]),k(S),l(""),o(""),c(!1))})(),()=>{e=!1}},[r.dailNum]);const D=e=>{window.innerWidth>760&&l(e)},R=n.useMemo(()=>d.filter(e=>!b.has(a(e.id))),[d]),F=n.useMemo(()=>d.filter(e=>b.has(a(e.id))),[d]),L=a(i)==="dublin",w=M||t==="dublin",T=(e,g)=>{const m=a(e.id)==="dublin",p=g&&!w?0:e.id===t?.6:1,y=new f().setFill(i===""||L&&g||i===e.id?X:Y).setOpacity(p).setStroke("black").setCursor("pointer").setTransition("opacity",N.FAST).setTransition("fill",N.FAST).getStyle();return s.createElement("g",{id:e.id,key:e.id,style:y,onMouseEnter:()=>D(e.id),onMouseLeave:()=>D(""),onClick:()=>{m?i!=="dublin"?(c(!0),o("dublin"),h(V(u))):(c(!1),o(""),h(u)):i!==e.id?(o(e.id),h(W(u,e.id)),b.has(a(e.id))?c(!0):c(!1)):(o(""),h(u))}},s.createElement("path",{d:e.path,transform:e.transform}))},A=()=>i==="northern ireland"?s.createElement("p",{className:"text-align-centre"},E(i),": Since the Third Dáil (1922-1923) no members are elected in Northern Ireland."):i?s.createElement("p",{className:"text-align-centre"},E(i)):s.createElement("p",{className:"text-align-centre"},"Select a constituency");return C?s.createElement("div",{style:U,id:"mapTableContainer"},s.createElement("div",{style:$,id:"mapTable"},s.createElement("p",{className:"text-align-centre constit"},"Constituencies of ",G(r.dailNum)," Dáil"),A(),s.createElement("svg",{style:q,className:"block-auto-margin",id:"mapIreland",viewBox:"0 0 850 760"},R.map(e=>T(e,!1)),w?F.map(e=>T(e,!0)):null)),s.createElement("div",{id:"mapReactTable"},s.createElement(j,{members:B,info:C,className:"block-auto-margin"}))):s.createElement("div",{className:"maincontent container"},"Ag lódáil léarscáil...")};export{et as default};
